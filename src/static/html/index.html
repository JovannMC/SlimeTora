<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="../css/index.css" />
        <script src="../js/index.js"></script>
    </head>

    <body>
        <!-- Main section -->
        <div class="section">
            <div class="container">
                <h1 class="title is-1 has-text-centered is-centered">
                    SlimeTora v<span id="version">0.0.0</span>
                </h1>
                <br />
                <div class="subtitle has-text-centered">
                    <h3 class="inline-block" data-i18n="main.connectedTrackers">
                        Connected trackers:
                    </h3>
                    <p class="inline-block" id="tracker-count">0</p>
                </div>
                <br />
                <div class="buttons is-centered">
                    <button
                        class="button is-primary"
                        onclick="startConnection()"
                        data-i18n="main.startConnection"
                    >
                        Start connection
                    </button>
                    <button
                        class="button is-danger"
                        onclick="stopConnection()"
                        data-i18n="main.stopConnection"
                    >
                        Stop connection
                    </button>
                </div>
                <br />
                <div class="title is-2 has-text-centered">
                    <h2
                        class="has-text-weight-medium inline-block"
                        data-i18n="main.status.statusText"
                    >
                        Status:
                    </h2>
                    <p class="has-text-weight-medium inline-block" id="status">
                        N/A
                    </p>
                </div>
            </div>
        </div>

        <br />

        <!-- Tracker info section -->
        <div class="section">
            <div class="container">
                <h1
                    class="title has-text-centered is-2"
                    data-i18n="trackerInfo.title"
                >
                    Tracker information
                </h1>
                <br />
                <div class="columns is-multiline" id="device-list">
                    <!-- Trackers get populated here -->
                </div>
            </div>
        </div>

        <br />

        <!-- Global settings section -->
        <div class="section">
            <div class="container">
                <div class="with-tooltip">
                    <h1
                        class="title has-text-centered is-2 is-spaced"
                        data-i18n="settings.title"
                    >
                        Global settings
                    </h1>
                    <div class="tooltip-container">
                        <div class="icon">
                            <img src="../images/help.svg" alt="Help icon" />
                        </div>
                        <span
                            class="tooltip-text subtitle is-6 has-text-weight-normal"
                            data-i18n="settings.tooltip"
                            ><b
                                >Tracker settings only currently supports GX
                                trackers, use Haritora Configurator if on
                                Bluetooth.</b
                            >
                            Set the global settings for the trackers or the
                            program. An option with yellow text requires a
                            restart of the program to fully apply.</span
                        >
                    </div>
                </div>
                <br />
                <div class="columns is-multiline has-text-centered">
                    <!-- Connection mode setting -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.connectionMode.title"
                            >
                                Connection Mode
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.connectionMode.tooltip"
                                    >Select the connection mode for the
                                    trackers. Both can be used at the same time
                                    (e.g. GX6 for the 6 main trackers and BT for
                                    the 2 elbows).</span
                                >
                            </div>
                        </div>
                        <div class="settings-container">
                            <div class="switch-container">
                                <div class="switch">
                                    <input
                                        type="checkbox"
                                        id="bluetooth-switch"
                                    />
                                    <label
                                        for="bluetooth-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="bluetooth-switch"
                                    data-i18n="settings.connectionMode.bluetooth"
                                    >Bluetooth</label
                                >
                            </div>
                            <div class="switch-container">
                                <div class="switch">
                                    <input type="checkbox" id="gx-switch" />
                                    <label
                                        for="gx-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="gx-switch"
                                    data-i18n="settings.connectionMode.gx"
                                    >GX(6/2)</label
                                >
                            </div>
                        </div>
                    </div>

                    <!-- COM port section -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.comPorts.title"
                            >
                                GX(6/2 COM ports)
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.comPorts.tooltip"
                                    >Select the COM ports your GX(6/2) dongles
                                    are using. Up to 4 ports can be selected (3
                                    for GX6 and 1 for GX2) unless checks are
                                    bypassed.</span
                                >
                            </div>
                        </div>

                        <div class="settings-container" id="com-ports">
                            <!-- COM ports get populated here -->
                        </div>
                    </div>

                    <!-- FPS settings -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.fps.title"
                            >
                                FPS transfer rate
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.fps.tooltip"
                                    >Select the FPS transfer rate for the
                                    trackers. If using Bluetooth, 50FPS may be
                                    more stable.</span
                                >
                            </div>
                        </div>
                        <div class="settings-container">
                            <div class="select">
                                <select id="fps-mode-select">
                                    <option
                                        value="50"
                                        data-i18n="settings.fps.50"
                                    >
                                        50 FPS
                                    </option>
                                    <option
                                        value="100"
                                        data-i18n="settings.fps.100"
                                    >
                                        100 FPS
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Sensor mode setting -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.sensorMode.title"
                            >
                                Sensor mode
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.sensorMode.tooltip"
                                    >Select the sensor mode for the trackers.
                                    Mode 1 enables the magnetometer which is
                                    best if you have a stable geomagnetic
                                    environment.</span
                                >
                            </div>
                        </div>
                        <div class="settings-container">
                            <div class="select">
                                <select id="sensor-mode-select">
                                    <option
                                        value="1"
                                        data-i18n="settings.sensorMode.1"
                                    >
                                        Mode 1
                                    </option>
                                    <option
                                        value="2"
                                        data-i18n="settings.sensorMode.2"
                                    >
                                        Mode 2
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Sensor auto correction setting -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.sensorCorrection.title"
                            >
                                Sensor auto correction
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.sensorCorrection.tooltip"
                                    >Enable or disable sensor auto correction
                                    features. Usually not needed to be changed
                                    and results vary between environments.</span
                                >
                            </div>
                        </div>
                        <div class="settings-container">
                            <div class="switch-container">
                                <div class="switch">
                                    <input
                                        type="checkbox"
                                        id="accelerometer-switch"
                                        checked
                                    />
                                    <label
                                        for="accelerometer-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="accelerometer-switch"
                                    style="min-width: 150px"
                                    data-i18n="settings.sensorCorrection.accelerometer"
                                    >Accelerometer</label
                                >
                            </div>
                            <div class="switch-container">
                                <div class="switch">
                                    <input
                                        type="checkbox"
                                        id="gyroscope-switch"
                                    />
                                    <label
                                        for="gyroscope-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="gyroscope-switch"
                                    style="min-width: 150px"
                                    data-i18n="settings.sensorCorrection.gyroscope"
                                    >Gyroscope</label
                                >
                            </div>
                            <div class="switch-container">
                                <div class="switch">
                                    <input
                                        type="checkbox"
                                        id="magnetometer-switch"
                                    />
                                    <label
                                        for="magnetometer-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="magnetometer-switch"
                                    style="min-width: 150px"
                                    data-i18n="settings.sensorCorrection.magnetometer"
                                    >Magnetometer</label
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Save button -->
                    <div class="column is-6">
                        <div class="with-tooltip">
                            <h3
                                class="title is-4 is-spaced"
                                data-i18n="settings.other.title"
                            >
                                Other settings
                            </h3>
                            <div class="tooltip-container">
                                <div class="icon">
                                    <img
                                        src="../images/help.svg"
                                        alt="Help icon"
                                    />
                                </div>
                                <span
                                    class="tooltip-text subtitle is-6 has-text-weight-normal"
                                    data-i18n="settings.other.tooltip"
                                    >Sometimes your settings may not save
                                    properly (or you just want to make sure
                                    they're saved), so here's a nice little
                                    button for you lol. You can also change your
                                    language and censor tracker serial numbers
                                    here.</span
                                >
                            </div>
                        </div>
                        <div class="settings-container is-flex is-flex-direction-column is-align-items-center" style="gap: 1rem;">
                            <div class="select" style="max-width: fit-content;">
                                <select id="language-select">
                                    <!-- Languages populated here -->
                                </select>
                            </div>
                            <div class="switch-container">
                                <div class="switch">
                                    <input type="checkbox" id="censor-serial-switch" />
                                    <label
                                        for="censor-serial-switch"
                                        class="slider round"
                                    ></label>
                                </div>
                                <label
                                    for="censor-serial-switch"
                                    data-i18n="settings.other.censorSerialNumbers"
                                    >Censor serial numbers</label
                                >
                            </div>
                            <div class="buttons is-centered">
                                <button
                                    class="button is-info is-centered"
                                    id="save-settings-button"
                                    onclick="saveSettings()"
                                    data-i18n="settings.other.saveButton"
                                >
                                    Save settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br />

        <!-- About section -->
        <div class="section">
            <div class="container">
                <h1
                    class="title has-text-centered is-2 is-spaced"
                    data-i18n="about.title"
                >
                    About
                </h1>
                <h2 class="subtitle has-text-centered" data-i18n="about.text">
                    The SlimeTora project is a project that allows you to
                    connect the HaritoraX trackers to the SlimeVR server.
                </h2>
                <div class="subtitle has-text-centered">
                    <h2 class="inline-block" data-i18n="about.authors">
                        Made by:
                    </h2>
                    <div class="inline-block">
                        <a href="https://bracketproto.com/">BracketProto</a> &
                        <a href="https://femboyfurry.net">JovannMC</a>.
                    </div>
                </div>

                <br />
                <div>
                    <h2
                        class="title is-3 has-text-centered"
                        data-i18n="about.credits.title"
                    >
                        Credits
                    </h2>
                    <ul class="has-text-centered">
                        <li>
                            <a
                                href="https://github.com/JovannMC/haritorax-interpreter"
                                >haritorax-interpreter</a
                            >
                            by JovannMC
                        </li>
                        <li>
                            <a
                                href="https://github.com/sim1222/haritorax-slimevr-bridge"
                                >HaritoraX SlimeVR Bridge</a
                            >
                            by sim1222
                        </li>
                        <li>
                            <a href="https://github.com/SlimeVR/slimevr-node"
                                >slimevr-node</a
                            >
                            by SlimeVR
                        </li>
                        <li>
                            <a
                                href="https://github.com/SlimeVR/SlimeVR-Sender-Example/"
                                >SlimeVR Sender Example</a
                            >
                            by SlimeVR
                        </li>
                        <li>
                            <a href="https://github.com/moslime/moslime/"
                                >MoSlime</a
                            >
                            by Moslime
                        </li>
                        <li>
                            <a href="https://discord.gg/SlimeVR"
                                >SlimeVR Discord server</a
                            >
                        </li>
                        <li>
                            <a href="https://discord.gg/U365QSBxUm"
                                >Shiftall Discord server</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <br />

        <div class="section">
            <div class="container">
                <div class="with-tooltip">
                    <h1
                        class="title has-text-centered is-2 is-spaced has-text-danger"
                        data-i18n="debugging.title"
                    >
                        Debugging
                    </h1>
                    <div class="tooltip-container">
                        <div class="icon">
                            <img src="../images/help.svg" alt="Help icon" />
                        </div>
                        <span
                            class="tooltip-text subtitle is-6 has-text-weight-normal"
                            data-i18n="debugging.tooltip"
                            >An option with yellow text requires a restart of
                            the program to fully apply.</span
                        >
                    </div>
                </div>
                <h2
                    class="subtitle has-text-centered"
                    data-i18n="debugging.text"
                >
                    Enable or disable debugging features for the program.
                    Debugging tracker data will make log files huge, only use if
                    requested or if you have tracker issues!
                </h2>
                <div class="column is-12">
                    <div class="debugging-container">
                        <div class="switch-container">
                            <div class="switch">
                                <input
                                    type="checkbox"
                                    id="log-to-file-switch"
                                />
                                <label
                                    for="log-to-file-switch"
                                    class="slider round"
                                ></label>
                            </div>
                            <label
                                for="log-to-file-switch"
                                data-i18n="debugging.writeToFile"
                                >Write to log files</label
                            >
                        </div>
                        <div class="switch-container">
                            <div class="switch">
                                <input
                                    type="checkbox"
                                    id="skip-slimevr-switch"
                                />
                                <label
                                    for="skip-slimevr-switch"
                                    class="slider round"
                                ></label>
                            </div>
                            <label
                                for="skip-slimevr-switch"
                                data-i18n="debugging.skipSlimeVR"
                                >Skip SlimeVR check</label
                            >
                        </div>
                        <div class="switch-container">
                            <div class="switch">
                                <input
                                    type="checkbox"
                                    id="bypass-com-limit-switch"
                                />
                                <label
                                    for="bypass-com-limit-switch"
                                    class="slider round"
                                ></label>
                            </div>
                            <label
                                for="bypass-com-limit-switch"
                                data-i18n="debugging.bypassPortLimit"
                                >Bypass port limit</label
                            >
                        </div>
                        <div class="switch-container">
                            <div class="switch">
                                <input
                                    type="checkbox"
                                    id="debug-tracker-connections-switch"
                                />
                                <label
                                    for="debug-tracker-connections-switch"
                                    class="slider round"
                                ></label>
                            </div>
                            <label
                                for="debug-tracker-connections-switch"
                                class="has-text-warning"
                                data-i18n="debugging.debugTrackerData"
                                >Debug tracker data</label
                            >
                        </div>
                    </div>
                    <br />
                    <div class="logs-folder-container">
                        <button
                            class="button is-info"
                            onclick="openLogsFolder()"
                            data-i18n="debugging.openLogsFolder"
                        >
                            Open logs folder
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
